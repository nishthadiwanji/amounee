function _defineProperty(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function _createForOfIteratorHelper(e,t){var a;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(a=_unsupportedIterableToArray(e))||t&&e&&"number"==typeof e.length){a&&(e=a);var i=0,n=function(){};return{s:n,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e){throw e}),f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,r=!0,l=!1;return{s:function(){a=e[Symbol.iterator]()},n:function(){var e=a.next();return r=e.done,e},e:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e){l=!0,o=e}),f:function(){try{r||null==a.return||a.return()}finally{if(l)throw o}}}}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,i=new Array(t);a<t;a++)i[a]=e[a];return i}function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}$.ajaxSetup({headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")}}),function(e){"function"==typeof define&&define.amd?define(["jquery","./jquery.validate"],e):"object"===("undefined"==typeof module?"undefined":_typeof(module))&&module.exports?module.exports=e(require("jquery")):e(jQuery)}(function(e){return function(){function t(e){return e.replace(/<.[^<>]*?>/g," ").replace(/&nbsp;|&#160;/gi," ").replace(/[.(),;:!?%#$'\"_+=\/\-“”’]*/g,"")}e.validator.addMethod("maxWords",function(e,a,i){return this.optional(a)||t(e).match(/\b\w+\b/g).length<=i},e.validator.format("Please enter {0} words or less.")),e.validator.addMethod("minWords",function(e,a,i){return this.optional(a)||t(e).match(/\b\w+\b/g).length>=i},e.validator.format("Please enter at least {0} words.")),e.validator.addMethod("rangeWords",function(e,a,i){var n=t(e),o=/\b\w+\b/g;return this.optional(a)||n.match(o).length>=i[0]&&n.match(o).length<=i[1]},e.validator.format("Please enter between {0} and {1} words."))}(),e.validator.addMethod("abaRoutingNumber",function(e){var t=0,a=e.split(""),i=a.length;if(9!==i)return!1;for(var n=0;n<i;n+=3)t+=3*parseInt(a[n],10)+7*parseInt(a[n+1],10)+parseInt(a[n+2],10);return 0!==t&&t%10==0},"Please enter a valid routing number."),e.validator.addMethod("accept",function(t,a,i){var n,o,r="string"==typeof i?i.replace(/\s/g,""):"image/*",l=this.optional(a);if(l)return l;if("file"===e(a).attr("type")&&(r=r.replace(/[\-\[\]\/\{\}\(\)\+\?\.\\\^\$\|]/g,"\\$&").replace(/,/g,"|").replace(/\/\*/g,"/.*"),a.files&&a.files.length))for(o=new RegExp(".?("+r+")$","i"),n=0;n<a.files.length;n++)if(!a.files[n].type.match(o))return!1;return!0},e.validator.format("Please enter a value with a valid mimetype.")),e.validator.addMethod("alphanumeric",function(e,t){return this.optional(t)||/^\w+$/i.test(e)},"Letters, numbers, and underscores only please"),e.validator.addMethod("bankaccountNL",function(e,t){if(this.optional(t))return!0;if(!/^[0-9]{9}|([0-9]{2} ){3}[0-9]{3}$/.test(e))return!1;var a,i=e.replace(/ /g,""),n=0,o=i.length;for(a=0;a<o;a++)n+=(o-a)*i.substring(a,a+1);return n%11==0},"Please specify a valid bank account number"),e.validator.addMethod("bankorgiroaccountNL",function(t,a){return this.optional(a)||e.validator.methods.bankaccountNL.call(this,t,a)||e.validator.methods.giroaccountNL.call(this,t,a)},"Please specify a valid bank or giro account number"),e.validator.addMethod("bic",function(e,t){return this.optional(t)||/^([A-Z]{6}[A-Z2-9][A-NP-Z1-9])(X{3}|[A-WY-Z0-9][A-Z0-9]{2})?$/.test(e.toUpperCase())},"Please specify a valid BIC code"),e.validator.addMethod("cifES",function(e,t){"use strict";if(this.optional(t))return!0;var a,i,n,o,r=new RegExp(/^([ABCDEFGHJKLMNPQRSUVW])(\d{7})([0-9A-J])$/gi),l=e.substring(0,1),s=e.substring(1,8),d=e.substring(8,9),u=0,c=0;function m(e){return e%2==0}if(9!==e.length||!r.test(e))return!1;for(a=0;a<s.length;a++)i=parseInt(s[a],10),m(a)?c+=(i*=2)<10?i:i-9:u+=i;return n=(10-(u+c).toString().substr(-1)).toString(),n=parseInt(n,10)>9?"0":n,o="JABCDEFGHI".substr(n,1).toString(),l.match(/[ABEH]/)?d===n:l.match(/[KPQS]/)?d===o:d===n||d===o},"Please specify a valid CIF number."),e.validator.addMethod("cnhBR",function(e){if(11!==(e=e.replace(/([~!@#$%^&*()_+=`{}\[\]\-|\\:;'<>,.\/? ])+/g,"")).length)return!1;var t,a,i,n,o,r=0,l=0;if(t=e.charAt(0),new Array(12).join(t)===e)return!1;for(n=0,o=9,0;n<9;++n,--o)r+=+e.charAt(n)*o;for((a=r%11)>=10&&(a=0,l=2),r=0,n=0,o=1,0;n<9;++n,++o)r+=+e.charAt(n)*o;return(i=r%11)>=10?i=0:i-=l,String(a).concat(i)===e.substr(-2)},"Please specify a valid CNH number"),e.validator.addMethod("cnpjBR",function(e,t){"use strict";if(this.optional(t))return!0;if(14!==(e=e.replace(/[^\d]+/g,"")).length)return!1;if("00000000000000"===e||"11111111111111"===e||"22222222222222"===e||"33333333333333"===e||"44444444444444"===e||"55555555555555"===e||"66666666666666"===e||"77777777777777"===e||"88888888888888"===e||"99999999999999"===e)return!1;for(var a=e.length-2,i=e.substring(0,a),n=e.substring(a),o=0,r=a-7,l=a;l>=1;l--)o+=i.charAt(a-l)*r--,r<2&&(r=9);var s=o%11<2?0:11-o%11;if(s!==parseInt(n.charAt(0),10))return!1;a+=1,i=e.substring(0,a),o=0,r=a-7;for(var d=a;d>=1;d--)o+=i.charAt(a-d)*r--,r<2&&(r=9);return(s=o%11<2?0:11-o%11)===parseInt(n.charAt(1),10)},"Please specify a CNPJ value number"),e.validator.addMethod("cpfBR",function(e,t){"use strict";if(this.optional(t))return!0;if(11!==(e=e.replace(/([~!@#$%^&*()_+=`{}\[\]\-|\\:;'<>,.\/? ])+/g,"")).length)return!1;var a,i,n,o,r=0;if(a=parseInt(e.substring(9,10),10),i=parseInt(e.substring(10,11),10),n=function(e,t){var a=10*e%11;return 10!==a&&11!==a||(a=0),a===t},""===e||"00000000000"===e||"11111111111"===e||"22222222222"===e||"33333333333"===e||"44444444444"===e||"55555555555"===e||"66666666666"===e||"77777777777"===e||"88888888888"===e||"99999999999"===e)return!1;for(o=1;o<=9;o++)r+=parseInt(e.substring(o-1,o),10)*(11-o);if(n(r,a)){for(r=0,o=1;o<=10;o++)r+=parseInt(e.substring(o-1,o),10)*(12-o);return n(r,i)}return!1},"Please specify a valid CPF number"),e.validator.addMethod("creditcard",function(e,t){if(this.optional(t))return"dependency-mismatch";if(/[^0-9 \-]+/.test(e))return!1;var a,i,n=0,o=0,r=!1;if((e=e.replace(/\D/g,"")).length<13||e.length>19)return!1;for(a=e.length-1;a>=0;a--)i=e.charAt(a),o=parseInt(i,10),r&&(o*=2)>9&&(o-=9),n+=o,r=!r;return n%10==0},"Please enter a valid credit card number."),e.validator.addMethod("creditcardtypes",function(e,t,a){if(/[^0-9\-]+/.test(e))return!1;e=e.replace(/\D/g,"");var i=0;return a.mastercard&&(i|=1),a.visa&&(i|=2),a.amex&&(i|=4),a.dinersclub&&(i|=8),a.enroute&&(i|=16),a.discover&&(i|=32),a.jcb&&(i|=64),a.unknown&&(i|=128),a.all&&(i=255),1&i&&(/^(5[12345])/.test(e)||/^(2[234567])/.test(e))?16===e.length:2&i&&/^(4)/.test(e)?16===e.length:4&i&&/^(3[47])/.test(e)?15===e.length:8&i&&/^(3(0[012345]|[68]))/.test(e)?14===e.length:16&i&&/^(2(014|149))/.test(e)?15===e.length:32&i&&/^(6011)/.test(e)?16===e.length:64&i&&/^(3)/.test(e)?16===e.length:64&i&&/^(2131|1800)/.test(e)?15===e.length:!!(128&i)},"Please enter a valid credit card number."),e.validator.addMethod("currency",function(e,t,a){var i,n="string"==typeof a,o=n?a:a[0],r=!!n||a[1];return o=o.replace(/,/g,""),i="^["+(o=r?o+"]":o+"]?")+"([1-9]{1}[0-9]{0,2}(\\,[0-9]{3})*(\\.[0-9]{0,2})?|[1-9]{1}[0-9]{0,}(\\.[0-9]{0,2})?|0(\\.[0-9]{0,2})?|(\\.[0-9]{1,2})?)$",i=new RegExp(i),this.optional(t)||i.test(e)},"Please specify a valid currency"),e.validator.addMethod("dateFA",function(e,t){return this.optional(t)||/^[1-4]\d{3}\/((0?[1-6]\/((3[0-1])|([1-2][0-9])|(0?[1-9])))|((1[0-2]|(0?[7-9]))\/(30|([1-2][0-9])|(0?[1-9]))))$/.test(e)},e.validator.messages.date),e.validator.addMethod("dateITA",function(e,t){var a,i,n,o,r,l=!1;return/^\d{1,2}\/\d{1,2}\/\d{4}$/.test(e)?(a=e.split("/"),i=parseInt(a[0],10),n=parseInt(a[1],10),o=parseInt(a[2],10),l=(r=new Date(Date.UTC(o,n-1,i,12,0,0,0))).getUTCFullYear()===o&&r.getUTCMonth()===n-1&&r.getUTCDate()===i):l=!1,this.optional(t)||l},e.validator.messages.date),e.validator.addMethod("dateNL",function(e,t){return this.optional(t)||/^(0?[1-9]|[12]\d|3[01])[\.\/\-](0?[1-9]|1[012])[\.\/\-]([12]\d)?(\d\d)$/.test(e)},e.validator.messages.date),e.validator.addMethod("extension",function(e,t,a){return a="string"==typeof a?a.replace(/,/g,"|"):"png|jpe?g|gif",this.optional(t)||e.match(new RegExp("\\.("+a+")$","i"))},e.validator.format("Please enter a value with a valid extension.")),e.validator.addMethod("giroaccountNL",function(e,t){return this.optional(t)||/^[0-9]{1,7}$/.test(e)},"Please specify a valid giro account number"),e.validator.addMethod("greaterThan",function(t,a,i){var n=e(i);return this.settings.onfocusout&&n.not(".validate-greaterThan-blur").length&&n.addClass("validate-greaterThan-blur").on("blur.validate-greaterThan",function(){e(a).valid()}),t>n.val()},"Please enter a greater value."),e.validator.addMethod("greaterThanEqual",function(t,a,i){var n=e(i);return this.settings.onfocusout&&n.not(".validate-greaterThanEqual-blur").length&&n.addClass("validate-greaterThanEqual-blur").on("blur.validate-greaterThanEqual",function(){e(a).valid()}),t>=n.val()},"Please enter a greater value."),e.validator.addMethod("iban",function(e,t){if(this.optional(t))return!0;var a,i,n,o,r,l=e.replace(/ /g,"").toUpperCase(),s="",d=!0,u="";if(l.length<5)return!1;if(void 0!==(n={AL:"\\d{8}[\\dA-Z]{16}",AD:"\\d{8}[\\dA-Z]{12}",AT:"\\d{16}",AZ:"[\\dA-Z]{4}\\d{20}",BE:"\\d{12}",BH:"[A-Z]{4}[\\dA-Z]{14}",BA:"\\d{16}",BR:"\\d{23}[A-Z][\\dA-Z]",BG:"[A-Z]{4}\\d{6}[\\dA-Z]{8}",CR:"\\d{17}",HR:"\\d{17}",CY:"\\d{8}[\\dA-Z]{16}",CZ:"\\d{20}",DK:"\\d{14}",DO:"[A-Z]{4}\\d{20}",EE:"\\d{16}",FO:"\\d{14}",FI:"\\d{14}",FR:"\\d{10}[\\dA-Z]{11}\\d{2}",GE:"[\\dA-Z]{2}\\d{16}",DE:"\\d{18}",GI:"[A-Z]{4}[\\dA-Z]{15}",GR:"\\d{7}[\\dA-Z]{16}",GL:"\\d{14}",GT:"[\\dA-Z]{4}[\\dA-Z]{20}",HU:"\\d{24}",IS:"\\d{22}",IE:"[\\dA-Z]{4}\\d{14}",IL:"\\d{19}",IT:"[A-Z]\\d{10}[\\dA-Z]{12}",KZ:"\\d{3}[\\dA-Z]{13}",KW:"[A-Z]{4}[\\dA-Z]{22}",LV:"[A-Z]{4}[\\dA-Z]{13}",LB:"\\d{4}[\\dA-Z]{20}",LI:"\\d{5}[\\dA-Z]{12}",LT:"\\d{16}",LU:"\\d{3}[\\dA-Z]{13}",MK:"\\d{3}[\\dA-Z]{10}\\d{2}",MT:"[A-Z]{4}\\d{5}[\\dA-Z]{18}",MR:"\\d{23}",MU:"[A-Z]{4}\\d{19}[A-Z]{3}",MC:"\\d{10}[\\dA-Z]{11}\\d{2}",MD:"[\\dA-Z]{2}\\d{18}",ME:"\\d{18}",NL:"[A-Z]{4}\\d{10}",NO:"\\d{11}",PK:"[\\dA-Z]{4}\\d{16}",PS:"[\\dA-Z]{4}\\d{21}",PL:"\\d{24}",PT:"\\d{21}",RO:"[A-Z]{4}[\\dA-Z]{16}",SM:"[A-Z]\\d{10}[\\dA-Z]{12}",SA:"\\d{2}[\\dA-Z]{18}",RS:"\\d{18}",SK:"\\d{20}",SI:"\\d{15}",ES:"\\d{20}",SE:"\\d{20}",CH:"\\d{5}[\\dA-Z]{12}",TN:"\\d{20}",TR:"\\d{5}[\\dA-Z]{17}",AE:"\\d{3}\\d{16}",GB:"[A-Z]{4}\\d{14}",VG:"[\\dA-Z]{4}\\d{16}"}[l.substring(0,2)])&&!new RegExp("^[A-Z]{2}\\d{2}"+n+"$","").test(l))return!1;for(a=l.substring(4,l.length)+l.substring(0,4),o=0;o<a.length;o++)"0"!==(i=a.charAt(o))&&(d=!1),d||(s+="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ".indexOf(i));for(r=0;r<s.length;r++)u=(""+u+s.charAt(r))%97;return 1===u},"Please specify a valid IBAN"),e.validator.addMethod("integer",function(e,t){return this.optional(t)||/^-?\d+$/.test(e)},"A positive or negative non-decimal number please"),e.validator.addMethod("ipv4",function(e,t){return this.optional(t)||/^(25[0-5]|2[0-4]\d|[01]?\d\d?)\.(25[0-5]|2[0-4]\d|[01]?\d\d?)\.(25[0-5]|2[0-4]\d|[01]?\d\d?)\.(25[0-5]|2[0-4]\d|[01]?\d\d?)$/i.test(e)},"Please enter a valid IP v4 address."),e.validator.addMethod("ipv6",function(e,t){return this.optional(t)||/^((([0-9A-Fa-f]{1,4}:){7}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){6}:[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){5}:([0-9A-Fa-f]{1,4}:)?[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){4}:([0-9A-Fa-f]{1,4}:){0,2}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){3}:([0-9A-Fa-f]{1,4}:){0,3}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){2}:([0-9A-Fa-f]{1,4}:){0,4}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){6}((\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b)\.){3}(\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b))|(([0-9A-Fa-f]{1,4}:){0,5}:((\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b)\.){3}(\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b))|(::([0-9A-Fa-f]{1,4}:){0,5}((\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b)\.){3}(\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b))|([0-9A-Fa-f]{1,4}::([0-9A-Fa-f]{1,4}:){0,5}[0-9A-Fa-f]{1,4})|(::([0-9A-Fa-f]{1,4}:){0,6}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){1,7}:))$/i.test(e)},"Please enter a valid IP v6 address."),e.validator.addMethod("lessThan",function(t,a,i){var n=e(i);return this.settings.onfocusout&&n.not(".validate-lessThan-blur").length&&n.addClass("validate-lessThan-blur").on("blur.validate-lessThan",function(){e(a).valid()}),t<n.val()},"Please enter a lesser value."),e.validator.addMethod("lessThanEqual",function(t,a,i){var n=e(i);return this.settings.onfocusout&&n.not(".validate-lessThanEqual-blur").length&&n.addClass("validate-lessThanEqual-blur").on("blur.validate-lessThanEqual",function(){e(a).valid()}),t<=n.val()},"Please enter a lesser value."),e.validator.addMethod("lettersonly",function(e,t){return this.optional(t)||/^[a-z]+$/i.test(e)},"Letters only please"),e.validator.addMethod("letterswithbasicpunc",function(e,t){return this.optional(t)||/^[a-z\-.,()'"\s]+$/i.test(e)},"Letters or punctuation only please"),e.validator.addMethod("maxfiles",function(t,a,i){return!!this.optional(a)||!("file"===e(a).attr("type")&&a.files&&a.files.length>i)},e.validator.format("Please select no more than {0} files.")),e.validator.addMethod("maxsize",function(t,a,i){if(this.optional(a))return!0;if("file"===e(a).attr("type")&&a.files&&a.files.length)for(var n=0;n<a.files.length;n++)if(a.files[n].size>i)return!1;return!0},e.validator.format("File size must not exceed {0} bytes each.")),e.validator.addMethod("maxsizetotal",function(t,a,i){if(this.optional(a))return!0;if("file"===e(a).attr("type")&&a.files&&a.files.length)for(var n=0,o=0;o<a.files.length;o++)if((n+=a.files[o].size)>i)return!1;return!0},e.validator.format("Total size of all files must not exceed {0} bytes.")),e.validator.addMethod("mobileNL",function(e,t){return this.optional(t)||/^((\+|00(\s|\s?\-\s?)?)31(\s|\s?\-\s?)?(\(0\)[\-\s]?)?|0)6((\s|\s?\-\s?)?[0-9]){8}$/.test(e)},"Please specify a valid mobile number"),e.validator.addMethod("mobileRU",function(e,t){var a=e.replace(/\(|\)|\s+|-/g,"");return this.optional(t)||a.length>9&&/^((\+7|7|8)+([0-9]){10})$/.test(a)},"Please specify a valid mobile number"),e.validator.addMethod("mobileUK",function(e,t){return e=e.replace(/\(|\)|\s+|-/g,""),this.optional(t)||e.length>9&&e.match(/^(?:(?:(?:00\s?|\+)44\s?|0)7(?:[1345789]\d{2}|624)\s?\d{3}\s?\d{3})$/)},"Please specify a valid mobile number"),e.validator.addMethod("netmask",function(e,t){return this.optional(t)||/^(254|252|248|240|224|192|128)\.0\.0\.0|255\.(254|252|248|240|224|192|128|0)\.0\.0|255\.255\.(254|252|248|240|224|192|128|0)\.0|255\.255\.255\.(254|252|248|240|224|192|128|0)/i.test(e)},"Please enter a valid netmask."),e.validator.addMethod("nieES",function(e,t){"use strict";if(this.optional(t))return!0;var a,i=new RegExp(/^[MXYZ]{1}[0-9]{7,8}[TRWAGMYFPDXBNJZSQVHLCKET]{1}$/gi),n=e.substr(e.length-1).toUpperCase();return!((e=e.toString().toUpperCase()).length>10||e.length<9||!i.test(e))&&(a=9===(e=e.replace(/^[X]/,"0").replace(/^[Y]/,"1").replace(/^[Z]/,"2")).length?e.substr(0,8):e.substr(0,9),"TRWAGMYFPDXBNJZSQVHLCKET".charAt(parseInt(a,10)%23)===n)},"Please specify a valid NIE number."),e.validator.addMethod("nifES",function(e,t){"use strict";return!!this.optional(t)||!!(e=e.toUpperCase()).match("((^[A-Z]{1}[0-9]{7}[A-Z0-9]{1}$|^[T]{1}[A-Z0-9]{8}$)|^[0-9]{8}[A-Z]{1}$)")&&(/^[0-9]{8}[A-Z]{1}$/.test(e)?"TRWAGMYFPDXBNJZSQVHLCKE".charAt(e.substring(8,0)%23)===e.charAt(8):!!/^[KLM]{1}/.test(e)&&e[8]==="TRWAGMYFPDXBNJZSQVHLCKE".charAt(e.substring(8,1)%23))},"Please specify a valid NIF number."),e.validator.addMethod("nipPL",function(e){"use strict";if(10!==(e=e.replace(/[^0-9]/g,"")).length)return!1;for(var t=[6,5,7,2,3,4,5,6,7],a=0,i=0;i<9;i++)a+=t[i]*e[i];var n=a%11;return(10===n?0:n)===parseInt(e[9],10)},"Please specify a valid NIP number."),e.validator.addMethod("nisBR",function(e){var t,a,i,n,o,r=0;if(11!==(e=e.replace(/([~!@#$%^&*()_+=`{}\[\]\-|\\:;'<>,.\/? ])+/g,"")).length)return!1;for(a=parseInt(e.substring(10,11),10),t=parseInt(e.substring(0,10),10),n=2;n<12;n++)o=n,10===n&&(o=2),11===n&&(o=3),r+=t%10*o,t=parseInt(t/10,10);return a===(i=(i=r%11)>1?11-i:0)},"Please specify a valid NIS/PIS number"),e.validator.addMethod("notEqualTo",function(t,a,i){return this.optional(a)||!e.validator.methods.equalTo.call(this,t,a,i)},"Please enter a different value, values must not be the same."),e.validator.addMethod("nowhitespace",function(e,t){return this.optional(t)||/^\S+$/i.test(e)},"No white space please"),e.validator.addMethod("pattern",function(e,t,a){return!!this.optional(t)||("string"==typeof a&&(a=new RegExp("^(?:"+a+")$")),a.test(e))},"Invalid format."),e.validator.addMethod("phoneNL",function(e,t){return this.optional(t)||/^((\+|00(\s|\s?\-\s?)?)31(\s|\s?\-\s?)?(\(0\)[\-\s]?)?|0)[1-9]((\s|\s?\-\s?)?[0-9]){8}$/.test(e)},"Please specify a valid phone number."),e.validator.addMethod("phonePL",function(e,t){e=e.replace(/\s+/g,"");return this.optional(t)||/^(?:(?:(?:\+|00)?48)|(?:\(\+?48\)))?(?:1[2-8]|2[2-69]|3[2-49]|4[1-68]|5[0-9]|6[0-35-9]|[7-8][1-9]|9[145])\d{7}$/.test(e)},"Please specify a valid phone number"),e.validator.addMethod("phonesUK",function(e,t){return e=e.replace(/\(|\)|\s+|-/g,""),this.optional(t)||e.length>9&&e.match(/^(?:(?:(?:00\s?|\+)44\s?|0)(?:1\d{8,9}|[23]\d{9}|7(?:[1345789]\d{8}|624\d{6})))$/)},"Please specify a valid uk phone number"),e.validator.addMethod("phoneUK",function(e,t){return e=e.replace(/\(|\)|\s+|-/g,""),this.optional(t)||e.length>9&&e.match(/^(?:(?:(?:00\s?|\+)44\s?)|(?:\(?0))(?:\d{2}\)?\s?\d{4}\s?\d{4}|\d{3}\)?\s?\d{3}\s?\d{3,4}|\d{4}\)?\s?(?:\d{5}|\d{3}\s?\d{3})|\d{5}\)?\s?\d{4,5})$/)},"Please specify a valid phone number"),e.validator.addMethod("phoneUS",function(e,t){return e=e.replace(/\s+/g,""),this.optional(t)||e.length>9&&e.match(/^(\+?1-?)?(\([2-9]([02-9]\d|1[02-9])\)|[2-9]([02-9]\d|1[02-9]))-?[2-9]\d{2}-?\d{4}$/)},"Please specify a valid phone number"),e.validator.addMethod("postalcodeBR",function(e,t){return this.optional(t)||/^\d{2}.\d{3}-\d{3}?$|^\d{5}-?\d{3}?$/.test(e)},"Informe um CEP válido."),e.validator.addMethod("postalCodeCA",function(e,t){return this.optional(t)||/^[ABCEGHJKLMNPRSTVXY]\d[ABCEGHJKLMNPRSTVWXYZ] *\d[ABCEGHJKLMNPRSTVWXYZ]\d$/i.test(e)},"Please specify a valid postal code"),e.validator.addMethod("postalcodeIT",function(e,t){return this.optional(t)||/^\d{5}$/.test(e)},"Please specify a valid postal code"),e.validator.addMethod("postalcodeNL",function(e,t){return this.optional(t)||/^[1-9][0-9]{3}\s?[a-zA-Z]{2}$/.test(e)},"Please specify a valid postal code"),e.validator.addMethod("postcodeUK",function(e,t){return this.optional(t)||/^((([A-PR-UWYZ][0-9])|([A-PR-UWYZ][0-9][0-9])|([A-PR-UWYZ][A-HK-Y][0-9])|([A-PR-UWYZ][A-HK-Y][0-9][0-9])|([A-PR-UWYZ][0-9][A-HJKSTUW])|([A-PR-UWYZ][A-HK-Y][0-9][ABEHMNPRVWXY]))\s?([0-9][ABD-HJLNP-UW-Z]{2})|(GIR)\s?(0AA))$/i.test(e)},"Please specify a valid UK postcode"),e.validator.addMethod("require_from_group",function(t,a,i){var n=e(i[1],a.form),o=n.eq(0),r=o.data("valid_req_grp")?o.data("valid_req_grp"):e.extend({},this),l=n.filter(function(){return r.elementValue(this)}).length>=i[0];return o.data("valid_req_grp",r),e(a).data("being_validated")||(n.data("being_validated",!0),n.each(function(){r.element(this)}),n.data("being_validated",!1)),l},e.validator.format("Please fill at least {0} of these fields.")),e.validator.addMethod("skip_or_fill_minimum",function(t,a,i){var n=e(i[1],a.form),o=n.eq(0),r=o.data("valid_skip")?o.data("valid_skip"):e.extend({},this),l=n.filter(function(){return r.elementValue(this)}).length,s=0===l||l>=i[0];return o.data("valid_skip",r),e(a).data("being_validated")||(n.data("being_validated",!0),n.each(function(){r.element(this)}),n.data("being_validated",!1)),s},e.validator.format("Please either skip these fields or fill at least {0} of them.")),e.validator.addMethod("stateUS",function(e,t,a){var i,n=void 0===a,o=!n&&void 0!==a.caseSensitive&&a.caseSensitive,r=!n&&void 0!==a.includeTerritories&&a.includeTerritories,l=!n&&void 0!==a.includeMilitary&&a.includeMilitary;return i=r||l?r&&l?"^(A[AEKLPRSZ]|C[AOT]|D[CE]|FL|G[AU]|HI|I[ADLN]|K[SY]|LA|M[ADEINOPST]|N[CDEHJMVY]|O[HKR]|P[AR]|RI|S[CD]|T[NX]|UT|V[AIT]|W[AIVY])$":r?"^(A[KLRSZ]|C[AOT]|D[CE]|FL|G[AU]|HI|I[ADLN]|K[SY]|LA|M[ADEINOPST]|N[CDEHJMVY]|O[HKR]|P[AR]|RI|S[CD]|T[NX]|UT|V[AIT]|W[AIVY])$":"^(A[AEKLPRZ]|C[AOT]|D[CE]|FL|GA|HI|I[ADLN]|K[SY]|LA|M[ADEINOST]|N[CDEHJMVY]|O[HKR]|PA|RI|S[CD]|T[NX]|UT|V[AT]|W[AIVY])$":"^(A[KLRZ]|C[AOT]|D[CE]|FL|GA|HI|I[ADLN]|K[SY]|LA|M[ADEINOST]|N[CDEHJMVY]|O[HKR]|PA|RI|S[CD]|T[NX]|UT|V[AT]|W[AIVY])$",i=o?new RegExp(i):new RegExp(i,"i"),this.optional(t)||i.test(e)},"Please specify a valid state"),e.validator.addMethod("strippedminlength",function(t,a,i){return e(t).text().length>=i},e.validator.format("Please enter at least {0} characters")),e.validator.addMethod("time",function(e,t){return this.optional(t)||/^([01]\d|2[0-3]|[0-9])(:[0-5]\d){1,2}$/.test(e)},"Please enter a valid time, between 00:00 and 23:59"),e.validator.addMethod("time12h",function(e,t){return this.optional(t)||/^((0?[1-9]|1[012])(:[0-5]\d){1,2}(\ ?[AP]M))$/i.test(e)},"Please enter a valid time in 12-hour am/pm format"),e.validator.addMethod("url2",function(e,t){return this.optional(t)||/^(https?|ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)*(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(e)},e.validator.messages.url),e.validator.addMethod("vinUS",function(e){if(17!==e.length)return!1;var t,a,i,n,o,r,l=["A","B","C","D","E","F","G","H","J","K","L","M","N","P","R","S","T","U","V","W","X","Y","Z"],s=[1,2,3,4,5,6,7,8,1,2,3,4,5,7,9,2,3,4,5,6,7,8,9],d=[8,7,6,5,4,3,2,10,0,9,8,7,6,5,4,3,2],u=0;for(t=0;t<17;t++){if(n=d[t],i=e.slice(t,t+1),8===t&&(r=i),isNaN(i)){for(a=0;a<l.length;a++)if(i.toUpperCase()===l[a]){i=s[a],i*=n,isNaN(r)&&8===a&&(r=l[a]);break}}else i*=n;u+=i}return 10===(o=u%11)&&(o="X"),o===r},"The specified vehicle identification number (VIN) is invalid."),e.validator.addMethod("zipcodeUS",function(e,t){return this.optional(t)||/^\d{5}(-\d{4})?$/.test(e)},"The specified US ZIP Code is invalid"),e.validator.addMethod("ziprange",function(e,t){return this.optional(t)||/^90[2-5]\d\{2\}-\d{4}$/.test(e)},"Your ZIP-code must be in the range 902xx-xxxx to 905xx-xxxx"),e}),$.validator.addMethod("completeUrl",function(e,t){return/^(?:http(s)?:\/\/)?[\w.-]+(?:\.[\w\.-]+)+[\w\-\._~:/?#[\]@!\$&'\(\)\*\+,;=.]+$/i.test(e)},"Please enter a valid URL."),$.validator.addMethod("alpha",function(e,t){return this.optional(t)||e==e.match(/^[a-zA-Z]*$/)},"Allow only alphabets."),$.validator.addMethod("alphanumeric",function(e,t){return this.optional(t)||e==e.match(/^[a-zA-Z0-9]*$/)},"Allow only alphanumeric."),$.validator.addMethod("alphaNumericDotSpaceHyphen",function(e,t){return this.optional(t)||e==e.match(/^[a-zA-Z0-9.\- ]*$/)},"Special Characters are not allowed."),$.validator.addMethod("validalphanumeric",function(e,t){return this.optional(t)||e==e.match(/^[a-zA-Z]*$/)||e==e.match(/^(?=.*[a-zA-Z])(?=.*[0-9])[a-zA-Z0-9]+$/)},"Allow only enter alphanumeric but not allow only numbers."),$.validator.addMethod("alphanumeric_dash",function(e,t){return this.optional(t)||/^[a-zA-Z0-9.\-\_\s]+$/i.test(e)},"Special characters are not allowed."),$.validator.addMethod("alphaNumericWithDot",function(e,t){return this.optional(t)||e==e.match(/^[a-zA-Z0-9.]*$/)},"Search text is either valid alpha numeric string or valid amount."),$.validator.addMethod("validNumber",function(e,t){return this.optional(t)||/^[0-9.]+$/i.test(e)},"Please enter valid value."),$.validator.addMethod("NumericWithPlus",function(e,t){return this.optional(t)||e==e.match(/^[0-9+]*$/)},"Only Numeric Value and Plus Symbol is allowed."),$.validator.addMethod("EMAIL",function(e,t){return this.optional(t)||/^[a-zA-Z0-9._-]+@[a-zA-Z0-9-]+\.[a-zA-Z.]{2,10}$/i.test(e)},"Enter email address in proper format."),$.validator.addMethod("checkForWhiteSpace",function(e,t,a){var i=$(t).val();return!i||""!=$.trim(i)},"Only white spaces are not allowed."),$.validator.addMethod("filesize",function(e,t,a){return this.optional(t)||t.files[0].size/1024<=a},"File size must be less than {0}."),$.validator.addMethod("spaceNotAllowed",function(e,t){return this.optional(t)||e==e.match(/^\S*$/)},"Blank space are not allowed."),$.validator.addMethod("gst_number",function(e,t){return this.optional(t)||/^[0-9]{2}[A-Z]{5}[0-9]{4}[A-Z]{1}[1-9A-Z]{1}Z[0-9A-Z]{1}$/i.test(e)},"GST number is not in proper format."),$.validator.addMethod("pan_number",function(e,t){return this.optional(t)||/^[A-Za-z]{5}[0-9]{4}[A-z]{1}$/i.test(e)},"PAN number is not in proper format."),$.validator.addMethod("aadhar_number",function(e,t){return this.optional(t)||/^\d{12}$/i.test(e)},"Aadhar number is not in proper format."),$.validator.addMethod("valid_serial_key",function(e,t){return this.optional(t)||/^[0-9]{2}[0|1](0[1-9]|1[0-2])(1?[6-9]|[2-9][0-9])[0-9]{6}$/i.test(e)},"Please enter valid serial key."),$.validator.addMethod("lr_no",function(e,t){return this.optional(t)||/^[0-9]{5}\/[A-Z]{1}[0-9]{1}\/20(1?[6-9]|[2-9][0-9])$/i.test(e)},"Please enter valid LR number."),$.validator.addMethod("po_no",function(e,t){if("VERBAL"==e)return!0;if(this.optional(t)||/^(SI\/PG|SI\/PM)\/[0-9]{3,20}\/(1?[6-9]|[2-9][0-9])$/i.test(e))return!0;if(this.optional(t)||/^(SI\/PG|SI\/PM)\/[0-9]{3,20}\/(1?[6-9]|[2-9][0-9])\-(1?[6-9]|[2-9][0-9])$/i.test(e)){var a=e.length;return e.substring(a-2,a)-e.substring(a-5,a-3)==1}return!1},"Please enter valid PO number."),$.validator.addMethod("invoice_number",function(e,t){return this.optional(t)||/^(SI\/PG|SI\/PM)\/[0-9]{5,20}\/20(1?[6-9]|[2-9][0-9])$/i.test(e)},"Please enter valid invoice number."),$.validator.addMethod("vehicle_number",function(e,t){return this.optional(t)||/^[A-Z]{2}[0-9]{2}[A-Z]{2}[0-9]{4}$/i.test(e)},"Please enter valid vehicle number."),$.validator.addMethod("greater_than_number",function(e,t,a){var i=$(a[1],t.form),n=i.eq(0),o=n.data("valid_req_grp")?n.data("valid_req_grp"):$.extend({},this),r=0;return $(a[1],t.form).each(function(){null==$(this).val()||null==$(this).val()||""==$(this).val()?r+=0:r+=parseInt($(this).val())}),n.data("valid_req_grp",o),$(t).data("being_validated")||(i.data("being_validated",!0),i.each(function(){o.element(this)}),i.data("being_validated",!1)),parseFloat(r)>parseFloat(a[0])},$.validator.format("One of these must bigger than {0}")),$.validator.addMethod("dimension",function(e,t){return this.optional(t)||/^[0-9]{1,3}[xX]{1}[0-9]{1,3}[xX]{1}[0-9]{1,3}$/i.test(e)},"Package dimension is not in proper format."),$.validator.addMethod("greater_than_zero",function(e,t){return this.optional(t)||parseFloat(e)>0},"Please enter greater than zero value."),$.validator.addMethod("comma_separated_emails",function(e,t){if(this.optional(t))return!0;for(var a=e.split(/,|;/),i=0;i<a.length;i++)/^[a-zA-Z0-9._-]+@[a-zA-Z0-9-]+\.[a-zA-Z.]{2,5}$/.test(a[i])||(invalidEmails[i]=$.trim(a[i]));return!(invalidEmails.length>0)},function(){var e=invalidEmails.filter(String);if(invalidEmails=[],e.length>1)var t=e.join()+" are not valid email address";else t=1==e.length?e.join()+" is not valid email address":"Please specify a valid email address or a comma separated list of addresses";return t});var invalidEmails=[],AmouneeApp=function(){$.fn.extend({animateCss:function(e,t){var a=function(e){var t={animation:"animationend",OAnimation:"oAnimationEnd",MozAnimation:"mozAnimationEnd",WebkitAnimation:"webkitAnimationEnd"};for(var a in t)if(void 0!==e.style[a])return t[a]}(document.createElement("div"));return this.addClass("animated "+e).one(a,function(){$(this).removeClass("animated "+e),"function"==typeof t&&t()}),this}});var e=function(){};return{init:function(){var e;e=(e=window.location.href).replace(/\/$/,"").split("?")[0],$("li.menu-item a").each(function(t,a){var i=$(a).attr("href");e==i&&($(a).parents("ul").hasClass("menu-subnav")?($(a).parent("li").addClass("menu-item-active"),$(a).parents("ul").parents("li").addClass("menu-item-open menu-item-here")):$(a).parent("li").addClass("menu-item-active"))}),$("#m_aside_left_minimize_toggle").click(function(){$(this).hasClass("m-brand__toggler--active")?Cookies.set("is_sidebar_toggle","false"):Cookies.set("is_sidebar_toggle","true")}),toastr.options={closeButton:!1,debug:!1,newestOnTop:!1,progressBar:!0,positionClass:"toast-top-right",preventDuplicates:!1,showDuration:"300",hideDuration:"1000",timeOut:"5000",extendedTimeOut:"1000",showEasing:"swing",hideEasing:"linear",showMethod:"fadeIn",hideMethod:"fadeOut"},jQuery.validator.setDefaults({errorElement:"div",errorClass:"invalid-feedback",focusInvalid:!1,ignore:":hidden, [contenteditable='true']:not([name])",errorPlacement:function(e,t){var a=$(t).closest(".m-form__group-sub").length>0?$(t).closest(".m-form__group-sub"):$(t).closest(".form-group"),i=a.find(".m-form__help");$(t).addClass("is-invalid"),0===a.find(".form-control-feedback").length&&(i.length>0?i.before(e):$(t).closest(".input-group").length>0?$(t).closest(".input-group").after(e):$(t).hasClass("m-select2")?$(t).parent().after(e):$(t).is(":checkbox")?$(t).closest(".m-checkbox").find(">span").after(e):$(t).after(e))},highlight:function(e){$(e).addClass("is-invalid")},unhighlight:function(e){var t=$(e).closest(".m-form__group-sub").length>0?$(e).closest(".m-form__group-sub"):$(e).closest(".form-group");$(e).removeClass("is-invalid"),t.find(".form-control-feedback").remove()},success:function(e,t){var a=$(e).closest(".m-form__group-sub").length>0?$(e).closest(".m-form__group-sub"):$(e).closest(".form-group");$(t).removeClass("is-invalid"),$(t).addClass("is-valid"),a.find(".form-control-feedback").remove()}}),$("form input").keypress(function(e){if(13==e.which){if($(this).closest("form").validate().form()){if($(this).closest("form").find(".pin-submit").prop("disabled")||$(this).closest("form").find(".pin-submit").is(":disabled"))return!1;$(this).closest("form").find(".pin-submit").click()}return!1}}),jQuery.each(["put","delete"],function(e,t){jQuery[t]=function(e,a,i,n){return jQuery.isFunction(a)&&(n=n||i,i=a,a=void 0),jQuery.ajax({url:e,type:t,dataType:n,data:a,success:i})}})},resetForm:function(e){e.find("select").val("").trigger("change"),e.trigger("reset"),e.find("select,textarea, input").removeClass("is-valid"),e.validate().resetForm()},disableButton:function(e){e.attr("disabled",!0)},disableButtonWithLoading:function(e){e.addClass("m-loader m-loader--right m-loader--light").attr("disabled",!0)},enableButton:function(e){e.removeClass("m-loader m-loader--right m-loader--light").attr("disabled",!1)},showLoadingInButton:function(e){e.addClass("m-loader m-loader--right m-loader--light")},removeLoadingFromButton:function(e){e.removeClass("m-loader m-loader--right m-loader--light")},displayToastr:function(e,t,a){toastr[e](t.message,t.title,{timeOut:1500,onHidden:function(){a()}})},displayToastrForSuccessAndFailure:function(e,t,a,i){1==e.result?this.displayToastr(t,e,a):this.displayToastr("error",e,i)},displayResultAndReload:function(t){this.displayToastrForSuccessAndFailure(t,"info",function(){window.location.href=window.location.href},e)},displayResultAndRedirect:function(t,a){this.displayToastrForSuccessAndFailure(t,"info",function(){window.location.href=a},e)},displayFailedValidation:function(e){422==e.status?$.each(e.responseJSON.errors,function(e,t){for(var a=0;a<t.length;a++)toastr.error(t[a],"Please Note!")}):401==e.status?toastr.error(e.responseJSON.message,"Attention!"):toastr.error(e.statusText,"Attention!")},displayResult:function(t){this.displayToastrForSuccessAndFailure(t,"info",e,e)},displayResultWithSuccessCallback:function(t,a){this.displayToastrForSuccessAndFailure(t,"success",a,e)},displayResultWithCallback:function(e,t,a){this.displayToastrForSuccessAndFailure(e,"info",t,a)},displayErrorMessage:function(e){toastr.error(e,"Attention!",{timeOut:2e3})},displayResultForFailureWithCallback:function(e,t,a){1==e.result?t():this.displayToastr("error",e,a)},blockUiAndButton:function(e,t){e.attr("disabled","disabled"),App.blockUI({target:t,textOnly:!0})},unblockUiAndButton:function(e,t){e.removeAttr("disabled"),App.unblockUI(t)},topFullAlert:function(e,t,a){$("html, body").animate({scrollTop:0},"slow"),e?$(".pin-alert-box").removeClass("alert-info").addClass("alert-danger"):$(".pin-alert-box").removeClass("alert-danger").addClass("alert-info"),$(".pin-alert-box-title").html(t),$(".pin-alert-box-message").html(a),$(".pin-alert-box").show().animateCss("slideInDown")}}}();$(document).ready(function(){AmouneeApp.init(),$('[data-toggle="tooltip"]').tooltip({container:"body",trigger:"hover"}),$("select.m-select2").each(function(){var e=$(this).data("placeholder")||"Select an Option";"multiple"==$(this).attr("multiple")?$(this).select2({placeholder:e,closeOnSelect:!0,maximumSelectionLength:10,language:{maximumSelected:function(e){return"You can only select "+e.maximum+" options"}},allowClear:!0}):$(this).select2({placeholder:e})}),$("select.m-select2").change(function(){$(this).valid()}),$(".input-daterange").datepicker({todayHighlight:!0,format:"dd/mm/yyyy",endDate:"0d"}),$(".input-daterange input").each(function(){$(this).datepicker({todayHighlight:!0,format:"dd/mm/yyyy",endDate:"0d"})}),$(".pin-datepicker").datepicker({todayHighlight:!0,format:"dd/mm/yyyy"}),$(".pin-alert-close").click(function(){$(".pin-alert-box").animateCss("slideOutUp",function(){$(".pin-alert-box").hide(),$(".pin-alert-title").empty(),$(".pin-alert-message").empty()})})});var TBHList={init:function(){},listButtonAjaxResultWithToastr:function(e,t){AmouneeApp.displayResultWithCallback(e,function(){1==$(document).find(".pin-list-item").length?window.location.href=window.location.href:t.parentsUntil(".pin-list-item").parent().fadeOut(500).promise().done(function(){t.parentsUntil(".pin-list-item").parent().remove()})},function(){AmouneeApp.enableButton(t)})},commonSearchInList:function(){var e=[location.protocol,"//",location.host,location.pathname].join("");e+="?records="+$(".pin-common-records").val(),""!=$(".pin-common-search-text").val().trim()&&(e+="&search="+$(".pin-common-search-text").val().replace(/<[^>]+>/g,"").trim()),window.location.href=e},clearCommonSearchInList:function(){var e=[location.protocol,"//",location.host,location.pathname].join("");e+="?records="+$(".pin-common-records").val(),window.location.href=e},complexSearchInList:function(e){var t=[location.protocol,"//",location.host,location.pathname].join("");t+="?records="+$(".pin-complex-records").val(),e.find("input").each(function(e,a){""!=$(a).val().trim()&&null!=$(a).val().trim()&&(t+="&"+$(a).attr("name")+"="+$(a).val().replace(/<[^>]+>/g,"").trim())}),e.find("select").each(function(e,a){""!=$(a).val()&&null!=$(a).val()&&(t+="&"+$(a).attr("name")+"="+$(a).val())}),e.find("textarea").each(function(e,a){""!=$(a).val()&&null!=$(a).val()&&(t+="&"+$(a).attr("name")+"="+$(a).val())}),window.location.href=t},clearComplexSearchInList:function(){var e=[location.protocol,"//",location.host,location.pathname].join("");e+="?records="+$(".pin-complex-records").val(),window.location.href=e},updateInListAndRemoveRow:function(e){AmouneeApp.disableButtonWithLoading(e),$.post(e.attr("data-action")).done(function(t){AmouneeApp.displayResultWithCallback(t,function(){e.closest(".pin-list-item").fadeOut(500).promise().done(function(){1==$(document).find(".pin-list-item").length&&(window.location.href=window.location.href),e.closest(".pin-list-item").remove()})},function(){AmouneeApp.enableButton(e)})}).fail(function(t){AmouneeApp.displayFailedValidation(t),AmouneeApp.enableButton(e)})}};jQuery(document).on("click",".pin-common-search-in-list-btn",function(e){e.preventDefault(),TBHList.commonSearchInList()}),jQuery(document).on("click",".pin-common-search-in-list-refresh",function(e){e.preventDefault(),TBHList.clearCommonSearchInList()}),jQuery(document).on("click",".pin-complex-search-in-list-btn",function(e){e.preventDefault();var t=$(".pin-complex-search-in-list-btn").closest("form");TBHList.complexSearchInList(t)}),jQuery(document).on("click",".pin-complex-search-in-list-refresh",function(e){e.preventDefault(),TBHList.clearComplexSearchInList()}),jQuery(".pin-common-records").select2({minimumResultsForSearch:-1}).change(function(){TBHList.commonSearchInList()}),jQuery(".pin-complex-records").select2({minimumResultsForSearch:-1}).change(function(){var e=$(".pin-complex-search-in-list-btn").closest("form");TBHList.complexSearchInList(e)}),jQuery(document).on("click",".pin-common-process-list-btn",function(e){e.preventDefault();var t=$(this);TBHList.updateInListAndRemoveRow(t)});var TBHForm=function(){return{init:function(){},commonPostFormSubmit:function commonPostFormSubmit(form,btn){form.valid()&&(AmouneeApp.disableButtonWithLoading(btn),$.post(form.attr("action"),form.serialize()).done(function(data){AmouneeApp.displayResultWithCallback(data,function(){if(btn.data("additional-callback")){var additional_callback=eval(btn.data("additional-callback"));"function"==typeof additional_callback&&additional_callback(data)}""!=form.attr("data-redirect-url")&&null!=form.attr("data-redirect-url")&&null!=form.attr("data-redirect-url")?window.location.href=form.attr("data-redirect-url"):(AmouneeApp.resetForm(form),$("html, body").animate({scrollTop:0},"slow")),AmouneeApp.enableButton(btn)},function(){AmouneeApp.enableButton(btn)})}).fail(function(e){AmouneeApp.displayFailedValidation(e),AmouneeApp.enableButton(btn)}))},commonUpdateFormSubmit:function commonUpdateFormSubmit(form,btn){form.valid()&&(AmouneeApp.disableButtonWithLoading(btn),$.put(form.attr("action"),form.serialize()).done(function(data){AmouneeApp.displayResultWithCallback(data,function(){if(btn.data("additional-callback")){var additional_callback=eval(btn.data("additional-callback"));"function"==typeof additional_callback&&additional_callback(data)}""!=form.attr("data-redirect-url")&&null!=form.attr("data-redirect-url")&&null!=form.attr("data-redirect-url")?window.location.href=form.attr("data-redirect-url"):$("html, body").animate({scrollTop:0},"slow"),AmouneeApp.enableButton(btn)},function(){AmouneeApp.enableButton(btn)})}).fail(function(e){AmouneeApp.displayFailedValidation(e),AmouneeApp.enableButton(btn)}))},multifileFormSubmit:function multifileFormSubmit(form,btn,method){if(form.valid()){AmouneeApp.disableButtonWithLoading(btn);var formData=new FormData,submitedFiles=document.getElementsByClassName("form-files"),_iterator=_createForOfIteratorHelper(submitedFiles),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;)if(item=_step.value,item.files&&item.files[0]){var extension=item.files[0].name.split("."),temp2=extension[extension.length-1].toLowerCase(),size=parseFloat(item.files[0].size/1024).toFixed(2);if(size>2048)return toastr.warning("Maximum upload file size is 2MB","Size Alert"),!1;formData.append(item.name,item.files[0])}}catch(e){_iterator.e(e)}finally{_iterator.f()}form.serializeArray().forEach(function(e){""==e.value.trim()&&null==e.value.trim()||formData.append(e.name,e.value)}),$.ajax({url:form.attr("data-action"),type:method,data:formData,processData:!1,contentType:!1,success:function success(data){AmouneeApp.displayResultWithCallback(data,function(){if(""!=btn.data("additional-callback")){var additional_callback=eval(btn.data("additional-callback"));"function"==typeof additional_callback&&additional_callback(data)}""!=form.attr("data-redirect-url")&&null!=form.attr("data-redirect-url")&&null!=form.attr("data-redirect-url")?window.location.href=form.attr("data-redirect-url"):"off"==btn.data("scroll")||$("html, body").animate({scrollTop:0},"slow"),AmouneeApp.enableButton(btn)},function(){AmouneeApp.enableButton(btn)})},error:function(e){AmouneeApp.displayFailedValidation(e),AmouneeApp.enableButton(btn)}})}}}}();$(document).on("click",".pin-common-submit",function(e){e.preventDefault();var t=$(this),a=$(this).closest("form");TBHForm.commonPostFormSubmit(a,t)}),$(document).on("click",".pin-common-update",function(e){e.preventDefault();var t=$(this),a=$(this).closest("form");TBHForm.commonUpdateFormSubmit(a,t)}),$(document).on("click",".pin-common-reset",function(e){e.preventDefault();var t=$(this).closest("form");AmouneeApp.resetForm(t),$("html, body").animate({scrollTop:0},"slow")}),$(document).on("click",".pin-fwfile-submit",function(e){e.preventDefault();var t=$(this),a=$(this).closest("form");TBHForm.multifileFormSubmit(a,t,"POST")}),$(document).on("click",".pin-fwfile-update",function(e){e.preventDefault();var t=$(this),a=$(this).closest("form");TBHForm.multifileFormSubmit(a,t,"POST")});var TBHTable={init:function(){},updateWithAjax:function(e){AmouneeApp.disableButtonWithLoading(e),$.post(e.attr("data-action")).done(function(t){AmouneeApp.displayResultWithCallback(t,function(){AmouneeApp.enableButton(e)},function(){AmouneeApp.enableButton(e)})}).fail(function(t){AmouneeApp.displayFailedValidation(t),AmouneeApp.enableButton(e)})},updateWithAjaxAndRemoveRow:function(e){AmouneeApp.disableButtonWithLoading(e),$.post(e.attr("data-action")).done(function(t){AmouneeApp.displayResultWithCallback(t,function(){e.closest("tr").fadeOut(500).promise().done(function(){1==$(document).find(".pin-common-rows").length?(e.closest("tr").remove(),window.location.href=window.location.href):e.parentsUntil(".pin-common-rows").parent().fadeOut(500).promise().done(function(){e.closest("tr").remove()})})},function(){AmouneeApp.enableButton(e)})}).fail(function(t){AmouneeApp.displayFailedValidation(t),AmouneeApp.enableButton(e)})},deleteRowWithAjax:function(e){AmouneeApp.disableButtonWithLoading(e),$.delete(e.attr("data-action")).done(function(t){AmouneeApp.displayResultWithCallback(t,function(){e.closest("tr").fadeOut(500).promise().done(function(){1==$(document).find(".pin-common-rows").length?(e.closest("tr").remove(),window.location.href=window.location.href):e.parentsUntil(".pin-common-rows").parent().fadeOut(500).promise().done(function(){e.closest("tr").remove(),e.parentsUntil(".pin-common-rows").parent().remove()})})},function(){AmouneeApp.enableButton(e)})}).fail(function(t){AmouneeApp.displayFailedValidation(t),AmouneeApp.enableButton(e)})}};jQuery(document).on("click",".pin-common-delete-row",function(e){e.preventDefault();var t=$(this);TBHTable.deleteRowWithAjax(t)}),jQuery(document).on("click",".pin-common-update-row",function(e){e.preventDefault();var t=$(this);TBHTable.updateWithAjax(t)}),jQuery(document).on("click",".pin-common-process-row",function(e){e.preventDefault();var t=$(this);TBHTable.updateWithAjaxAndRemoveRow(t)});var Authorization={init:function(){$(document).on("click",".pin-ban-user",function(e){e.preventDefault();var t=$(this);t.tooltip("hide"),AmouneeApp.disableButton(t),$.delete(t.attr("data-action")).done(function(e){TBHList.listButtonAjaxResultWithToastr(e,t)}).fail(function(e){AmouneeApp.displayFailedValidation(e),AmouneeApp.enableButton(t)})}),$(document).on("click",".pin-unban-user",function(e){e.preventDefault();var t=$(this);t.tooltip("hide"),AmouneeApp.disableButton(t),$.post(t.attr("data-action")).done(function(e){TBHList.listButtonAjaxResultWithToastr(e,t)}).fail(function(e){AmouneeApp.displayFailedValidation(e),AmouneeApp.enableButton(t)})})}};jQuery(document).ready(function(){Authorization.init()});var Login=function(){var e,t=function(t){var a="login-"+t+"-on";t="login_"+t+"_form";e.removeClass("login-forgot-on"),e.removeClass("login-signin-on"),e.addClass(a),KTUtil.animateClass(KTUtil.getById(t),"animate__animated animate__backInUp")},a=function(){AmouneeApp.resetForm($("#kt_login_signin_form"))},i=function(){AmouneeApp.resetForm($("#kt_login_forgot_form"))};return{init:function(){e=$("#kt_login"),$("#kt_login_signin_submit").on("click",function(e){e.preventDefault()}),$("#kt_login_forgot").on("click",function(e){e.preventDefault(),t("forgot"),i()}),$("#kt_login_forgot_submit").on("click",function(e){e.preventDefault()}),$("#kt_login_forgot_cancel").on("click",function(e){e.preventDefault(),t("signin"),a()}),$("#kt_login_signin_form").validate({rules:{username:{required:!0,checkForWhiteSpace:!0},password:{required:!0,checkForWhiteSpace:!0}},messages:{username:{required:"Email Address is required."},password:{required:"Password is required."}}}),$("#kt_login_forgot_form").validate({rules:{email:{required:!0,EMAIL:!0,checkForWhiteSpace:!0}},messages:{email:{required:"Recovery email address is required.",EMAIL:"Please enter valid email address."}}}),$("#kt_login_signin_submit").click(function(e){e.preventDefault();var t=$(this),a=$(this).closest("form");a.valid()&&(AmouneeApp.disableButtonWithLoading(t),$.post(a.attr("data-action"),a.serialize()).done(function(e){AmouneeApp.removeLoadingFromButton(t),AmouneeApp.displayResultWithCallback(e,function(){window.location.href=a.attr("data-redirect-url")},function(){AmouneeApp.enableButton(t)})}).fail(function(e){AmouneeApp.displayFailedValidation(e),AmouneeApp.enableButton(t)}))}),$("#kt_login_forgot_submit").click(function(e){e.preventDefault();var a=$(this),n=$(this).closest("form");n.valid()&&(AmouneeApp.disableButtonWithLoading(a),$.post(n.attr("data-action"),n.serialize()).done(function(e){AmouneeApp.displayResultWithCallback(e,function(){i(),AmouneeApp.enableButton(a),t("signin")},function(){AmouneeApp.enableButton(a)})}).fail(function(e){AmouneeApp.displayFailedValidation(e),AmouneeApp.enableButton(a)}))})}}}();jQuery(document).ready(function(){Login.init()});var resetPassword={init:function(){$("#resetPasswordForm").validate({rules:{password:{required:!0,minlength:8,checkForWhiteSpace:!0},password_confirmation:{required:!0,equalTo:"#password",checkForWhiteSpace:!0}},messages:{password:{required:"New password is required.",minlength:"Minimum length of password is 8"},password_confirmation:{required:"Password confirmation is required",equalTo:"Password should match"}}})}};jQuery(document).ready(function(){resetPassword.init()});var ChangePassword={init:function(){$("#changePasswordForm").validate({rules:{current_password:{required:!0,checkForWhiteSpace:!0},password:{required:!0,minlength:8,checkForWhiteSpace:!0},password_confirmation:{required:!0,equalTo:"#password",checkForWhiteSpace:!0}},messages:{current_password:{required:"Current password is required."},password:{required:"New password is required.",minlength:"New password must be 8 characters long."},password_confirmation:{required:"Password confirmation is required.",equalTo:"Password should match."}}})}};jQuery(document).ready(function(){ChangePassword.init()});var GeneratePassword={init:function(){$(document).on("click",".pin-generate-password",function(e){$("#generatePasswordForm").attr("data-action",$(this).attr("data-url")),$("#username").html($(this).attr("data-name")),$("#generatePasswordModal").modal("show")}),$("#generatePasswordModal").on("hidden.bs.modal",function(){AmouneeApp.resetForm($("#generatePasswordForm"))}),$("#generatePasswordForm").validate({rules:{password:{required:!0,checkForWhiteSpace:!0,spaceNotAllowed:!0,rangelength:[8,150]},password_confirmation:{required:!0,equalTo:"#password",checkForWhiteSpace:!0}},messages:{password:{required:"Password is required.",rangelength:"Password must be between 8 to 150 characters."},password_confirmation:{required:"Password confirmation is required.",equalTo:"Password should match."}}}),$("#generatePasswordBtn").click(function(e){e.preventDefault();var t=$(this),a=$("#generatePasswordForm");a.valid()&&(AmouneeApp.disableButtonWithLoading(t),$.post(a.attr("data-action"),a.serialize()).done(function(e){AmouneeApp.displayResultWithCallback(e,function(){AmouneeApp.enableButton(t),window.location.href=window.location.href},function(){AmouneeApp.enableButton(t)})}).fail(function(e){AmouneeApp.displayFailedValidation(e),AmouneeApp.enableButton(t)}))})}};jQuery(document).ready(function(){GeneratePassword.init()});var TeamMember={init:function(){var e,t,a,i;$("#profile_photo").fileinput({showUpload:!1,showRemove:!0,previewFileType:"image",minFileCount:1,maxFileCount:1,allowedFileExtensions:["jpeg","jpg","png"],msgErrorClass:"file-error-message d-none",minFileSize:1,maxFileSize:2e3,msgInvalidFileExtension:"Invalid File Format",msgPlaceholder:"Select Profile Photo",browseLabel:"Browse",browseClass:"btn btn-sm btn-info",removeClass:"btn btn-sm btn-danger",initialPreview:["no image"],initialCaption:"Select Profile Photo"}),e=["no image"],t="Select Profile Photo",a="Browse",i=!0,$("#edit_profile_photo").is("[data-profile-photo-url]")&&(e=["<img src='"+$("#edit_profile_photo").attr("data-profile-photo-url")+"' height='180px' width='180px'>"],t="1 Profile photo uploaded",a="Change",i=!1),$("#edit_profile_photo").fileinput({showUpload:!1,showRemove:i,previewFileType:"image",minFileCount:1,maxFileCount:1,allowedFileExtensions:["jpeg","jpg","png"],msgErrorClass:"file-error-message d-none",minFileSize:1,msgInvalidFileExtension:"Invalid File Format",browseLabel:a,browseClass:"btn btn-sm btn-info m-btn--air",removeClass:"btn btn-sm btn-danger m-btn--air",initialPreview:e,initialCaption:t}),$("#edit_profile_photo").trigger("fileclear"),$("#TeamMemberForm").validate({rules:{first_name:{required:!0,maxlength:190,checkForWhiteSpace:!0},last_name:{required:!0,maxlength:190,checkForWhiteSpace:!0},middle_name:{maxlength:190,checkForWhiteSpace:!0},profile_photo:{filesize:2048,accept:"image/jpg,jpeg,png",extension:"jpg|jpeg|png"},department:{required:!0},designation:{required:!0},password:{required:!0,checkForWhiteSpace:!0,spaceNotAllowed:!0,rangelength:[8,150]},password_confirmation:{required:!0,equalTo:"#password",checkForWhiteSpace:!0},employee_id:{required:!0,checkForWhiteSpace:!0},email:{required:!0,EMAIL:!0,checkForWhiteSpace:!0},country_code:{required:!0,checkForWhiteSpace:!0,maxlength:[4],NumericWithPlus:!0},phone_number:{required:!0,checkForWhiteSpace:!0,digits:!0,rangelength:[10,12]}},messages:{first_name:{required:"First name is required.",maxlength:"First Name exceeded maximum limit"},last_name:{required:"Last name is required.",maxlength:"Last Name exceeded maximum limit"},middle_name:{maxlength:"Middle Initial exceeded maximum limit"},profile_photo:{filesize:"Profile photo must be under 2 MB of size.",accept:"Please select JPG, JPEG or PNG file.",extension:"Profile photo must be in .jpg,.jpeg,.png format."},department:{required:"Department is required."},designation:{required:"Designation is required."},password:{required:"Password is required.",rangelength:"Password must be between 8 to 150 characters."},password_confirmation:{required:"Password confirmation is required.",equalTo:"Password should match."},employee_id:{required:"Employee ID is required.",checkForWhiteSpace:"Space not allowed."},email:{required:"Email is required.",EMAIL:"Enter email address in proper format."},country_code:{required:"Country code is Required.",maxlength:"Country code is invalid.",NumericWithPlus:"Enter a valid country code"},phone_number:{required:"Phone number is required.",digits:"Enter valid phone number.",rangelength:"Phone number must be between 10 to 12 digits."}}})}};jQuery(document).ready(function(){TeamMember.init()});var Artisan=function(){var initArtisanCreateForm=function(){$("#vendor_picture").fileinput({showUpload:!1,showRemove:!0,previewFileType:"image",minFileCount:1,maxFileCount:1,allowedFileExtensions:["jpeg","jpg","png"],msgErrorClass:"file-error-message d-none",minFileSize:1,maxFileSize:2e3,msgInvalidFileExtension:"Invalid File Format",msgPlaceholder:"Select Profile Photo",browseLabel:"Browse",browseClass:"btn btn-sm btn-info",removeClass:"btn btn-sm btn-danger",initialPreview:["no image"],initialCaption:"Select Profile Photo"}),$("#passbook_picture").fileinput({showUpload:!1,showRemove:!0,showPreview:!1,minFileCount:1,maxFileCount:1,allowedFileExtensions:["jpeg","jpg","png"],msgErrorClass:"file-error-message d-none",minFileSize:1,maxFileSize:2e3,msgInvalidFileExtension:"Invalid File Format",msgPlaceholder:"Select Passbook/Cheque Book",browseLabel:"Browse",browseClass:"btn btn-sm btn-info",removeClass:"btn btn-sm btn-danger",initialPreview:["no image"],initialCaption:"Select Passbook/Cheque Book"}),$("#passbook_picture").change(function(){$(this).valid()}),$("#artisan_cards").fileinput({showUpload:!1,showRemove:!0,showPreview:!1,minFileCount:1,maxFileCount:1,allowedFileExtensions:["jpeg","jpg","png"],msgErrorClass:"file-error-message d-none",minFileSize:1,maxFileSize:2e3,msgInvalidFileExtension:"Invalid File Format",msgPlaceholder:"Select Artisan Card",browseLabel:"Browse",browseClass:"btn btn-sm btn-info",removeClass:"btn btn-sm btn-danger",initialPreview:["no image"],initialCaption:"Select Artisan Card"}),$("#has_awards").click(function(){this.checked?$("#block").show():($("#block").hide(),$("#awards").val(" "))}),$("#id_proof").fileinput({showUpload:!1,showRemove:!0,showPreview:!1,minFileCount:1,maxFileCount:2,allowedFileExtensions:["jpeg","jpg","png"],msgErrorClass:"file-error-message d-none",minFileSize:1,maxFileSize:2e3,msgInvalidFileExtension:"Invalid File Format",msgPlaceholder:"Select ID Proof",browseLabel:"Browse",browseClass:"btn btn-sm btn-info",removeClass:"btn btn-sm btn-danger",initialPreview:["no image"],initialCaption:"Select ID Proof"}),$("#id_proof").change(function(){$(this).valid()})},initArtisanEditForm=function(){var e=["no image"],t="Select Profile Photo",a="Browse",i=!0;$("#edit_vendor_picture").is("[data-vendor-picture-url]")&&(e=["<img src='"+$("#edit_vendor_picture").attr("data-vendor-picture-url")+"' height='180px' width='180px'>"],t="1 Vendor Picture uploaded",a="Change",i=!1),$("#edit_vendor_picture").fileinput({showUpload:!1,showRemove:i,previewFileType:"image",minFileCount:1,maxFileCount:1,allowedFileExtensions:["jpeg","jpg","png"],msgErrorClass:"file-error-message d-none",minFileSize:1,msgInvalidFileExtension:"Invalid File Format",browseLabel:a,browseClass:"btn btn-sm btn-info m-btn--air",removeClass:"btn btn-sm btn-danger m-btn--air",initialPreview:e,initialCaption:t}),$("#edit_vendor_picture").trigger("fileclear")},handleArtisanStore=function handleArtisanStore(){$("#ArtisanForm").validate({rules:{vendor_picture:{filesize:2048,accept:"image/jpg,jpeg,png",extension:"jpg|jpeg|png"},first_name:{required:!0,maxlength:190,checkForWhiteSpace:!0},last_name:{required:!0,maxlength:190,checkForWhiteSpace:!0},trade_name:{required:!0,maxlength:190},gst:{checkForWhiteSpace:!0},category_id:{required:!0},country_code:{required:!0,checkForWhiteSpace:!0,maxlength:[4],NumericWithPlus:!0},phone_number:{required:!0,checkForWhiteSpace:!0,digits:!0,rangelength:[10,12]},email:{required:!0,EMAIL:!0,checkForWhiteSpace:!0},street1:{required:!0,maxlength:190},street2:{required:!0,maxlength:190},zip:{required:!0,maxlength:20,digits:!0},city:{required:!0,maxlength:20},state:{required:!0,maxlength:20},country:{required:!0,maxlength:20},"id_proof[]":{filesize:2048,extension:"jpg|jpeg|png"},artisan_cards:{filesize:2048,extension:"jpg|jpeg|png"},account_name:{required:!0,maxlength:190},account_number:{required:!0,maxlength:50,digits:!0},bank_name:{required:!0,maxlength:190},ifsc:{required:!0,maxlength:30},commission:{digits:!0},passbook_picture:{filesize:2048,extension:"jpg|jpeg|png"}},messages:{vendor_picture:{filesize:"Vendor photo must be under 2 MB of size.",accept:"Please select JPG, JPEG or PNG file.",extension:"Vendor photo must be in .jpg,.jpeg,.png format."},category_id:{required:"Category is required."},first_name:{required:"First name is required.",maxlength:"First Name exceeded maximum limit"},last_name:{required:"Last name is required.",maxlength:"Last Name exceeded maximum limit"},trade_name:{required:"Trade name is required."},gst:{},email:{required:"Email is required.",EMAIL:"Enter email address in proper format."},country_code:{required:"Country Code is Required.",maxlength:"Country Code is invalid.",NumericWithPlus:"Enter a valid country code"},phone_number:{required:"Phone number is required.",digits:"Enter valid phone number.",rangelength:"Phone number must be between 10 to 12 digits."},street1:{required:"Street 1 is required."},street2:{required:"Street 2 is required."},zip:{required:"Zip is required.",digits:"Only digits allowed."},city:{required:"City name is required."},state:{required:"State name is required."},country:{required:"Country is required."},"id_proof[]":{required:"ID proof is required.",filesize:"Id proof photos must be under 2 MB of size.",extension:"Id proof photos must be in .jpg,.jpeg,.png format."},artisan_cards:{filesize:"Artisan card must be under 2 MB of size.",extension:"Artisan card must be in .jpg,.jpeg,.png format."},account_name:{required:"Account Name is required."},account_number:{required:"Account Number is required.",digits:"Only digits allowed."},bank_name:{required:"Bank Name is required."},ifsc:{required:"IFSC is required.",maxlength:"Only upto 30 characters."},commission:{digits:"Only digits allowed."},passbook_picture:{required:"Passbook/Cheque book picture is required.",filesize:"Passbook/Cheque book photo must be under 2 MB of size.",extension:"Passbook/Cheque book photo must be in .jpg,.jpeg,.png format."}}}),$("#addArtisanBtn").click(function(e){var btn=$(this),form=$(this).closest("form");if(form.valid()){var formData=new FormData,submitedFiles=document.getElementsByClassName("form-files"),_iterator2=_createForOfIteratorHelper(submitedFiles),_step2;try{for(_iterator2.s();!(_step2=_iterator2.n()).done;)if(item=_step2.value,item.files&&item.files[0]){var extension=item.files[0].name.split("."),temp2=extension[extension.length-1].toLowerCase(),size=parseFloat(item.files[0].size/1024).toFixed(2);if(size>2048)return toastr.warning("Maximum upload file size is 2MB","Size Alert"),!1;formData.append(item.name,item.files[0])}}catch(e){_iterator2.e(e)}finally{_iterator2.f()}for(var totalfiles=document.getElementById("id_proof").files.length,index=0;index<totalfiles;index++){var item=document.getElementById("id_proof"),extension=item.files[0].name.split("."),temp2=extension[extension.length-1].toLowerCase(),size=parseFloat(item.files[0].size/1024).toFixed(2);if(size>2048)return toastr.warning("Maximum upload file size is 2MB","Size Alert"),!1;formData.append(item.name,document.getElementById("id_proof").files[index])}form.serializeArray().forEach(function(e){""==e.value.trim()&&null==e.value.trim()||formData.append(e.name,e.value)}),AmouneeApp.disableButtonWithLoading(btn),$.ajax({url:form.attr("data-action"),type:"POST",data:formData,processData:!1,contentType:!1,success:function success(data){AmouneeApp.displayResultWithCallback(data,function(){if(""!=btn.data("additional-callback")){var additional_callback=eval(btn.data("additional-callback"));"function"==typeof additional_callback&&additional_callback(data)}""!=form.attr("data-redirect-url")&&null!=form.attr("data-redirect-url")&&null!=form.attr("data-redirect-url")?window.location.href=form.attr("data-redirect-url"):"off"==btn.data("scroll")||$("html, body").animate({scrollTop:0},"slow"),AmouneeApp.enableButton(btn)},function(){AmouneeApp.enableButton(btn)})},error:function(e){AmouneeApp.displayFailedValidation(e),AmouneeApp.enableButton(btn)}}),AmouneeApp.disableButtonWithLoading(btn)}else $("#is_approved").val("0")}),$("#addArtisanApproveBtn").click(function(e){$("#is_approved").val("1"),$("#addArtisanBtn").trigger("click")})},handleArtisanApproval=function(){$("#artisanApprovalForm").validate({rules:{approval_note:{required:!0,maxlength:191,checkForWhiteSpace:!0}},messages:{approval_note:{required:"Approval note is required.",maxlength:"Approval exceeded maximum limit of 191 characters."}}}),$("button.approve-artisan-btn").click(function(){$("#artisanApprovalForm").attr("action",$(this).attr("data-action"))})},handleArtisanApprovalModal=function(){$("#approveModal").on("hidden.bs.modal",function(){AmouneeApp.resetForm($("#artisanApprovalForm"))})},handleArtisanRejection=function(){$("#artisanRejectionForm").validate({rules:{rejection_note:{required:!0,maxlength:191,checkForWhiteSpace:!0}},messages:{rejection_note:{required:"Rejection note is required.",maxlength:"Rejection exceeded maximum limit of 191 characters."}}}),$("button.reject-artisan-btn").click(function(){$("#artisanRejectionForm").attr("action",$(this).attr("data-action"))})},handleArtisanRejectionModal=function(){$("#rejectModal").on("hidden.bs.modal",function(){AmouneeApp.resetForm($("#artisanRejectionForm"))})},handleArtisanUpdate=function handleArtisanUpdate(){$("#updateArtisanBtn").click(function(e){var btn=$(this),form=$(this).closest("form");if(form.valid()){var formData=new FormData,submitedFiles=document.getElementsByClassName("form-files"),_iterator3=_createForOfIteratorHelper(submitedFiles),_step3;try{for(_iterator3.s();!(_step3=_iterator3.n()).done;)if(item=_step3.value,item.files&&item.files[0]){var extension=item.files[0].name.split("."),temp2=extension[extension.length-1].toLowerCase(),size=parseFloat(item.files[0].size/1024).toFixed(2);if(size>2048)return toastr.warning("Maximum upload file size is 2MB","Size Alert"),!1;formData.append(item.name,item.files[0])}}catch(e){_iterator3.e(e)}finally{_iterator3.f()}for(var totalfiles=document.getElementById("id_proof").files.length,index=0;index<totalfiles;index++){var item=document.getElementById("id_proof"),extension=item.files[0].name.split("."),temp2=extension[extension.length-1].toLowerCase(),size=parseFloat(item.files[0].size/1024).toFixed(2);if(size>2048)return toastr.warning("Maximum upload file size is 2MB","Size Alert"),!1;formData.append(item.name,document.getElementById("id_proof").files[index])}form.serializeArray().forEach(function(e){""==e.value.trim()&&null==e.value.trim()||formData.append(e.name,e.value)}),AmouneeApp.disableButtonWithLoading(btn),$.ajax({url:form.attr("data-action"),type:"POST",data:formData,processData:!1,contentType:!1,success:function success(data){AmouneeApp.displayResultWithCallback(data,function(){if(""!=btn.data("additional-callback")){var additional_callback=eval(btn.data("additional-callback"));"function"==typeof additional_callback&&additional_callback(data)}""!=form.attr("data-redirect-url")&&null!=form.attr("data-redirect-url")&&null!=form.attr("data-redirect-url")?window.location.href=form.attr("data-redirect-url"):"off"==btn.data("scroll")||$("html, body").animate({scrollTop:0},"slow"),AmouneeApp.enableButton(btn)},function(){AmouneeApp.enableButton(btn)})},error:function(e){AmouneeApp.displayFailedValidation(e),AmouneeApp.enableButton(btn)}}),AmouneeApp.disableButtonWithLoading(btn)}})},handleStoreImport=function handleStoreImport(){$("#importForm").validate({rules:{file:{required:!0,extension:"xls|xlsx|xlsm|csv"}},messages:{file:{required:"File is required",extension:"Please select Xls, Xlsx , Xlsm or CSV file"}}}),$("button.import-artisan").click(function(){e.preventDefault();var form=$("#importForm"),btn=$(this);if(form.valid()){AmouneeApp.disableButtonWithLoading(btn);var formData=new FormData,files=$("#file")[0].files[0];formData.append("file",files),$.ajax({url:form.attr("action"),type:"POST",data:formData,processData:!1,contentType:!1,success:function success(data){AmouneeApp.displayResultWithCallback(data,function(){if(""!=btn.data("additional-callback")){var additional_callback=eval(btn.data("additional-callback"));"function"==typeof additional_callback&&additional_callback(data)}""!=form.attr("data-redirect-url")&&null!=form.attr("data-redirect-url")&&null!=form.attr("data-redirect-url")?window.location.href=form.attr("data-redirect-url"):"off"==btn.data("scroll")||$("html, body").animate({scrollTop:0},"slow"),AmouneeApp.enableButton(btn)},function(){AmouneeApp.enableButton(btn)})},error:function(e){AmouneeApp.displayFailedValidation(e),AmouneeApp.enableButton(btn)}})}})},handleStoreImportModal=function(){$(".import-btn").click(function(){var e=$(this),t=e.attr("data-action"),a=e.attr("data-redirect-url");$("#importForm").attr("action",t),$("#importForm").attr("data-redirect-url",a)}),$("#importModal").on("hidden.bs.modal",function(){AmouneeApp.resetForm($("#importForm"))})};return{init:function(){initArtisanCreateForm(),initArtisanEditForm(),handleArtisanStore(),handleArtisanApproval(),handleArtisanApprovalModal(),handleArtisanRejection(),handleArtisanRejectionModal(),handleArtisanUpdate(),handleStoreImport(),handleStoreImportModal()}}}();jQuery(document).ready(function(){Artisan.init()});var Category=function(){var handleStoreCommission=function handleStoreCommission(){$("#commissionForm").validate({rules:{commission:{digits:!0,maxlength:191,checkForWhiteSpace:!0}},messages:{commission:{digits:"Only digits allowed.",maxlength:"Approval exceeded maximum limit of 191 characters.",checkForWhiteSpace:"Blank spaces not allowed."}}}),$("button.commission-btn").click(function(){$("#commissionForm").attr("action",$(this).attr("data-action")),AmouneeApp.disableButtonWithLoading(btn),$.ajax({url:form.attr("data-action"),type:"POST",data:formData,processData:!1,contentType:!1,success:function success(data){AmouneeApp.displayResultWithCallback(data,function(){if(""!=btn.data("additional-callback")){var additional_callback=eval(btn.data("additional-callback"));"function"==typeof additional_callback&&additional_callback(data)}""!=form.attr("data-redirect-url")&&null!=form.attr("data-redirect-url")&&null!=form.attr("data-redirect-url")?window.location.href=form.attr("data-redirect-url"):"off"==btn.data("scroll")||$("html, body").animate({scrollTop:0},"slow"),AmouneeApp.enableButton(btn)},function(){AmouneeApp.enableButton(btn)})},error:function(e){AmouneeApp.displayFailedValidation(e),AmouneeApp.enableButton(btn)}}),AmouneeApp.disableButtonWithLoading(btn)})},handleStoreCommissionModal=function(){$(document).on("click",".commission-btn",function(e){$("#commissionForm").attr("data-action",$(this).attr("data-url")),$("#catname").html($(this).attr("data-name")),$("#commissionModal").modal("show")}),$("#commissionModal").on("hidden.bs.modal",function(){AmouneeApp.resetForm($("#commissionForm"))})};return{init:function(){handleStoreCommissionModal(),handleStoreCommission()}}}();jQuery(document).ready(function(){Category.init()});var Product=function(){var handleManageStock=function handleManageStock(){$("#manageStockForm").validate({rules:{stock_status:{required:!0},stock:{digits:!0}},messages:{stock_status:{required:"Stock status is required."},stock:{digits:"Only digits allowed."}}}),$("#stock_status").change(function(){"In stock"==$("#stock_status").val()?$("#stock_val").show():($("#stock").val(""),$("#stock_val").hide())}),$("button.manage-stock").click(function(){e.preventDefault();var form=$("#manageStockForm"),btn=$(this);if(form.valid()){AmouneeApp.disableButtonWithLoading(btn);var formData=new FormData,files=$("#file")[0].files[0];formData.append("file",files),$.ajax({url:form.attr("action"),type:"POST",data:formData,processData:!1,contentType:!1,success:function success(data){AmouneeApp.displayResultWithCallback(data,function(){if(""!=btn.data("additional-callback")){var additional_callback=eval(btn.data("additional-callback"));"function"==typeof additional_callback&&additional_callback(data)}""!=form.attr("data-redirect-url")&&null!=form.attr("data-redirect-url")&&null!=form.attr("data-redirect-url")?window.location.href=form.attr("data-redirect-url"):"off"==btn.data("scroll")||$("html, body").animate({scrollTop:0},"slow"),AmouneeApp.enableButton(btn)},function(){AmouneeApp.enableButton(btn)})},error:function(e){AmouneeApp.displayFailedValidation(e),AmouneeApp.enableButton(btn)}})}})},initProductCreateForm=function(){$(".amounee-editor").summernote({height:200,toolbar:[["style",["style"]],["font",["bold","italic","underline","strikethrough","superscript","subscript","clear"]],["fontname",["fontname"]],["fontsize",["fontsize"]],["para",["ol","ul","paragraph","height"]],["view",["undo","redo","fullscreen"]]]}),$("#product_image").fileinput({showUpload:!1,showRemove:!0,showPreview:!1,minFileCount:1,maxFileCount:1,allowedFileExtensions:["jpeg","jpg","png"],msgErrorClass:"file-error-message d-none",minFileSize:1,maxFileSize:2e3,msgInvalidFileExtension:"Please select JPG, JPEG or PNG file.",msgPlaceholder:"Select Product Image",browseLabel:"Browse",browseClass:"btn btn-sm btn-info",removeClass:"btn btn-sm btn-danger",initialPreview:["no image"],initialCaption:"Select Product Image"}),$("#product_image").change(function(){$(this).valid()}),$("#product_gallery").fileinput({showUpload:!1,showRemove:!0,showPreview:!1,minFileCount:1,maxFileCount:7,allowedFileExtensions:["jpeg","jpg","png"],msgErrorClass:"file-error-message d-none",minFileSize:1,maxFileSize:2e3,msgInvalidFileExtension:"Invalid File Format",msgPlaceholder:"Select images",browseLabel:"Browse",browseClass:"btn btn-sm btn-info",removeClass:"btn btn-sm btn-danger",initialPreview:["no image"],initialCaption:"Select Images"}),$("#product_gallery").change(function(){$(this).valid()}),$("#base_price").change(function(){var e=$("#base_price").val(),t=$("#commission").val(),a=$("#commission_unit").val();if(t)if(t=parseInt(t),e=parseInt(e),"rupee"==a){var i=e+t;$("#sales_price").val(i)}else if("percentage"==a){i=e+t*e/100;$("#sales_price").val(i)}else $("#sales_price").val("");else{i=parseInt(e);var n,o=$("#sub_category_id").val();if(o&&$.ajax({url:"http://amounee.test/category/"+o+"/details",method:"get",async:!1,success:function(t){(n=(n=parseInt(t.commission))*e/100)&&(i+=n),$("#sales_price").val(i)}}),!n){var r,l=$("#artisan_id").val();l&&$.ajax({url:"http://amounee.test/artisan/"+l+"/details",method:"get",async:!1,success:function(t){(r=(r=parseInt(t.commission))*e/100)&&(i+=r),$("#sales_price").val(i)}})}if(e==i)i+=t=25*e/100,$("#sales_price").val(i)}}),$("#commission").change(function(){var e=$("#base_price").val();e||(e=0);var t=$("#commission").val(),a=$("#commission_unit").val();if(t)if(t=parseInt(t),e=parseInt(e),"rupee"==a){var i=e+t;$("#sales_price").val(i)}else if("percentage"==a){i=e+t*e/100;$("#sales_price").val(i)}else $("#sales_price").val("");else i=parseInt(e);$("#sales_price").val(i)}),$("#commission_unit").change(function(){var e=$("#base_price").val(),t=$("#commission").val(),a=$(this).val();if(t)if(t=parseInt(t),e=parseInt(e),"rupee"==a){var i=e+t;$("#sales_price").val(i)}else if("percentage"==a){i=e+t*e/100;$("#sales_price").val(i)}else $("#sales_price").val("");else i=parseInt(e);$("#sales_price").val(i)}),$("#artisan_id").change(function(){var e=$("#base_price").val(),t=$("#commission").val(),a=$("#commission_unit").val();if(t)if(t=parseInt(t),e=parseInt(e),"rupee"==a){var i=e+t;$("#sales_price").val(i)}else if("percentage"==a){i=e+t*e/100;$("#sales_price").val(i)}else $("#sales_price").val("");else{i=parseInt(e);var n,o=$("#sub_category_id").val();if(o&&$.ajax({url:"http://amounee.test/category/"+o+"/details",method:"get",async:!1,success:function(t){(n=(n=parseInt(t.commission))*e/100)&&(i+=n),$("#sales_price").val(i)}}),!n){var r,l=$("#artisan_id").val();l&&$.ajax({url:"http://amounee.test/artisan/"+l+"/details",method:"get",async:!1,success:function(t){(r=(r=parseInt(t.commission))*e/100)&&(i+=r),$("#sales_price").val(i)}})}if(e==i)i+=t=25*e/100,$("#sales_price").val(i)}}),$("#sub_category_id").change(function(){var e=$("#base_price").val(),t=$("#commission").val(),a=$("#commission_unit").val();if(t)if(t=parseInt(t),e=parseInt(e),"rupee"==a){var i=e+t;$("#sales_price").val(i)}else if("percentage"==a){i=e+t*e/100;$("#sales_price").val(i)}else $("#sales_price").val("");else{i=parseInt(e);var n,o,r=$("#sub_category_id").val();if(r&&$.ajax({url:"http://amounee.test/category/"+r+"/details",method:"get",async:!1,success:function(t){(o=(o=parseInt(t.commission))*e/100)&&(i+=o),$("#sales_price").val(i)}}),!o){var i=parseInt(e),l=$("#artisan_id").val();l&&$.ajax({url:"http://amounee.test/artisan/"+l+"/details",method:"get",async:!1,success:function(t){(n=(n=parseInt(t.commission))*e/100)&&(i+=n),$("#sales_price").val(i)}})}if(e==i)i+=t=25*e/100,$("#sales_price").val(i)}}),$("#stock_status").change(function(){"In stock"==$("#stock_status").val()?$("#stock_div").show():($("#stock").val(""),$("#stock_div").hide())})},handleProductStore=function handleProductStore(){$("#ProductForm").validate({rules:{product_name:{required:!0,checkForWhiteSpace:!0},sku:{required:!0,checkForWhiteSpace:!0},artisan_id:{required:!0},stock_status:{required:!0,checkForWhiteSpace:!0},stock:{required:function(e){return"In stock"==$("#stock_status").val()},digits:!0,checkForWhiteSpace:!0},category_id:{required:!0},sub_category_id:{required:!0},base_price:{digits:!0,required:!0,checkForWhiteSpace:!0},product_image:_defineProperty({filesize:2048,accept:"image/jpg,jpeg,png",extension:"jpg|jpeg|png"},"filesize",2048),hsn_code:{required:!0,checkForWhiteSpace:!0,greater_than_zero:!0},commission:{checkForWhiteSpace:!0,validNumber:!0},commission_unit:{required:function(e){return""!=$("#commission").val().trim()}},material:{checkForWhiteSpace:!0},sales_price:{checkForWhiteSpace:!0},"product_gallery[]":{filesize:2048,extension:"jpg|jpeg|png"}},messages:{product_name:{required:"Product name is required."},sku:{required:"sku is required.",checkForWhiteSpace:"Spaces are not allowed."},artisan_id:{required:"Artisan name is required."},stock_status:{required:"stock status is required."},category_id:{required:"category is required."},sub_category_id:{required:"sub category is required."},base_price:{required:"base price is required."},hsn_code:{required:"hsn code is required."},sales_price:{required:"sales price is required."},"product_gallery[]":{required:"Product Gallery Images are required."},product_image:{required:"Product Image is required"}}}),$("#addProductBtn").click(function(e){var btn=$(this),form=$(this).closest("form");if(form.valid()){var formData=new FormData,submitedFiles=document.getElementsByClassName("form-files"),_iterator4=_createForOfIteratorHelper(submitedFiles),_step4;try{for(_iterator4.s();!(_step4=_iterator4.n()).done;)if(item=_step4.value,item.files&&item.files[0]){var extension=item.files[0].name.split("."),temp2=extension[extension.length-1].toLowerCase(),size=parseFloat(item.files[0].size/1024).toFixed(2);if(size>2048)return toastr.warning("Maximum upload file size is 2MB","Size Alert"),!1;formData.append(item.name,item.files[0])}}catch(e){_iterator4.e(e)}finally{_iterator4.f()}for(var totalfiles=document.getElementById("product_gallery").files.length,index=0;index<totalfiles;index++){var item=document.getElementById("product_gallery"),extension=item.files[0].name.split("."),temp2=extension[extension.length-1].toLowerCase(),size=parseFloat(item.files[0].size/1024).toFixed(2);if(size>2048)return toastr.warning("Maximum upload file size is 2MB","Size Alert"),!1;formData.append(item.name,document.getElementById("product_gallery").files[index])}form.serializeArray().forEach(function(e){""==e.value.trim()&&null==e.value.trim()||formData.append(e.name,e.value)}),AmouneeApp.disableButtonWithLoading(btn),$.ajax({url:form.attr("data-action"),type:"POST",data:formData,processData:!1,contentType:!1,success:function success(data){AmouneeApp.displayResultWithCallback(data,function(){if(""!=btn.data("additional-callback")){var additional_callback=eval(btn.data("additional-callback"));"function"==typeof additional_callback&&additional_callback(data)}""!=form.attr("data-redirect-url")&&null!=form.attr("data-redirect-url")&&null!=form.attr("data-redirect-url")?window.location.href=form.attr("data-redirect-url"):"off"==btn.data("scroll")||$("html, body").animate({scrollTop:0},"slow"),AmouneeApp.enableButton(btn)},function(){AmouneeApp.enableButton(btn)})},error:function(e){AmouneeApp.displayFailedValidation(e),AmouneeApp.enableButton(btn)}}),AmouneeApp.disableButtonWithLoading(btn)}else $("#is_approved").val("0")}),$("#addProductApproveBtn").click(function(e){$("#is_approved").val("1"),$("#addProductBtn").trigger("click")}),$("#addProductResetBtn").click(function(e){$("#tax_status").val("Taxable"),$("#tax_status").trigger("change")})},handleManageStockModal=function(){$(".manage_stock_btn").click(function(){var e=$(this),t=e.attr("data-action"),a=e.attr("data-redirect-url");$("#manageStockForm").attr("action",t),$("#manageStockForm").attr("data-redirect-url",a)}),$("#stockModal").on("hidden.bs.modal",function(){AmouneeApp.resetForm($("#manageStockForm"))})},initProductEditForm=function(){$("#base_price").change(function(){var e=$("#base_price").val(),t=$("#commission").val(),a=$("#commission_unit").val();if(t)if(t=parseInt(t),e=parseInt(e),"rupee"==a){var i=e+t;$("#sales_price").val(i)}else if("percentage"==a){i=e+t*e/100;$("#sales_price").val(i)}else $("#sales_price").val("");else{i=parseInt(e);var n,o=$("#sub_category_id").val();if(o&&$.ajax({url:"http://amounee.test/category/"+o+"/details",method:"get",async:!1,success:function(t){(n=(n=parseInt(t.commission))*e/100)&&(i+=n),$("#sales_price").val(i)}}),!n){var r,l=$("#artisan_id").val();l&&$.ajax({url:"http://amounee.test/artisan/"+l+"/details",method:"get",async:!1,success:function(t){(r=(r=parseInt(t.commission))*e/100)&&(i+=r),$("#sales_price").val(i)}})}if(e==i)i+=t=25*e/100,$("#sales_price").val(i)}}),$("#commission").change(function(){var e=$("#base_price").val();e||(e=0);var t=$("#commission").val(),a=$("#commission_unit").val();if(t)if(t=parseInt(t),e=parseInt(e),"rupee"==a){var i=e+t;$("#sales_price").val(i)}else if("percentage"==a){i=e+t*e/100;$("#sales_price").val(i)}else $("#sales_price").val("");else i=parseInt(e);$("#sales_price").val(i)}),$("#commission_unit").change(function(){var e=$("#base_price").val(),t=$("#commission").val(),a=$(this).val();if(t)if(t=parseInt(t),e=parseInt(e),"rupee"==a){var i=e+t;$("#sales_price").val(i)}else if("percentage"==a){i=e+t*e/100;$("#sales_price").val(i)}else $("#sales_price").val("");else i=parseInt(e);$("#sales_price").val(i)}),$("#artisan_id").change(function(){var e=$("#base_price").val(),t=$("#commission").val(),a=$("#commission_unit").val();if(t)if(t=parseInt(t),e=parseInt(e),"rupee"==a){var i=e+t;$("#sales_price").val(i)}else if("percentage"==a){i=e+t*e/100;$("#sales_price").val(i)}else $("#sales_price").val("");else{i=parseInt(e);var n,o=$("#sub_category_id").val();if(o&&$.ajax({url:"http://amounee.test/category/"+o+"/details",method:"get",async:!1,success:function(t){(n=(n=parseInt(t.commission))*e/100)&&(i+=n),$("#sales_price").val(i)}}),!n){var r,l=$("#artisan_id").val();l&&$.ajax({url:"http://amounee.test/artisan/"+l+"/details",method:"get",async:!1,success:function(t){(r=(r=parseInt(t.commission))*e/100)&&(i+=r),$("#sales_price").val(i)}})}if(e==i)i+=t=25*e/100,$("#sales_price").val(i)}}),$("#sub_category_id").change(function(){var e=$("#base_price").val(),t=$("#commission").val(),a=$("#commission_unit").val();if(t)if(t=parseInt(t),e=parseInt(e),"rupee"==a){var i=e+t;$("#sales_price").val(i)}else if("percentage"==a){i=e+t*e/100;$("#sales_price").val(i)}else $("#sales_price").val("");else{i=parseInt(e);var n,o,r=$("#sub_category_id").val();if(r&&$.ajax({url:"http://amounee.test/category/"+r+"/details",method:"get",async:!1,success:function(t){(o=(o=parseInt(t.commission))*e/100)&&(i+=o),$("#sales_price").val(i)}}),!o){var i=parseInt(e),l=$("#artisan_id").val();l&&$.ajax({url:"http://amounee.test/artisan/"+l+"/details",method:"get",async:!1,success:function(t){(n=(n=parseInt(t.commission))*e/100)&&(i+=n),$("#sales_price").val(i)}})}if(e==i)i+=t=25*e/100,$("#sales_price").val(i)}}),$("#stock_status").change(function(){"In stock"==$("#stock_status").val()?$("#stock_div").show():($("#stock").val(""),$("#stock_div").hide())});var e=["no image"],t="Select Product Image",a="Browse",i=!0;$("#edit_product_image").is("[data-product-image-url]")&&(e=["<img src='"+$("#edit_product_image").attr("data-product-image-url")+"' height='180px' width='180px'>"],t="1 Product Picture uploaded",a="Change",i=!1),$("#edit_product_image").fileinput({showUpload:!1,showRemove:i,previewFileType:"image",minFileCount:1,maxFileCount:1,allowedFileExtensions:["jpeg","jpg","png"],minFileSize:1,msgInvalidFileExtension:"Please select JPG, JPEG or PNG file.",browseLabel:a,browseClass:"btn btn-sm btn-info m-btn--air",removeClass:"btn btn-sm btn-danger m-btn--air",initialPreview:e,initialCaption:t}),$("#edit_product_image").trigger("fileclear")},handleproductUpdate=function handleproductUpdate(){$("#updateProductBtn").click(function(e){var btn=$(this),form=$(this).closest("form");if(form.valid()){var formData=new FormData,submitedFiles=document.getElementsByClassName("form-files"),_iterator5=_createForOfIteratorHelper(submitedFiles),_step5;try{for(_iterator5.s();!(_step5=_iterator5.n()).done;)if(item=_step5.value,item.files&&item.files[0]){var extension=item.files[0].name.split("."),temp2=extension[extension.length-1].toLowerCase(),size=parseFloat(item.files[0].size/1024).toFixed(2);if(size>2048)return toastr.warning("Maximum upload file size is 2MB","Size Alert"),!1;formData.append(item.name,item.files[0])}}catch(e){_iterator5.e(e)}finally{_iterator5.f()}for(var totalfiles=document.getElementById("product_gallery").files.length,index=0;index<totalfiles;index++){var item=document.getElementById("product_gallery"),extension=item.files[0].name.split("."),temp2=extension[extension.length-1].toLowerCase(),size=parseFloat(item.files[0].size/1024).toFixed(2);if(size>2048)return toastr.warning("Maximum upload file size is 2MB","Size Alert"),!1;formData.append(item.name,document.getElementById("product_gallery").files[index])}form.serializeArray().forEach(function(e){""==e.value.trim()&&null==e.value.trim()||formData.append(e.name,e.value)}),AmouneeApp.disableButtonWithLoading(btn),$.ajax({url:form.attr("data-action"),type:"POST",data:formData,processData:!1,contentType:!1,success:function success(data){AmouneeApp.displayResultWithCallback(data,function(){if(""!=btn.data("additional-callback")){var additional_callback=eval(btn.data("additional-callback"));"function"==typeof additional_callback&&additional_callback(data)}""!=form.attr("data-redirect-url")&&null!=form.attr("data-redirect-url")&&null!=form.attr("data-redirect-url")?window.location.href=form.attr("data-redirect-url"):"off"==btn.data("scroll")||$("html, body").animate({scrollTop:0},"slow"),AmouneeApp.enableButton(btn)},function(){AmouneeApp.enableButton(btn)})},error:function(e){AmouneeApp.displayFailedValidation(e),AmouneeApp.enableButton(btn)}}),AmouneeApp.disableButtonWithLoading(btn)}})};return{init:function(){handleManageStock(),handleManageStockModal(),initProductCreateForm(),handleProductStore(),initProductEditForm(),handleproductUpdate()}}}();jQuery(document).ready(function(){Product.init()});var Status={init:function(){$(document).on("click",".pin-approve",function(e){e.preventDefault();var t=$(this);t.tooltip("hide"),AmouneeApp.disableButton(t),$.post(t.attr("data-action")).done(function(e){TBHList.listButtonAjaxResultWithToastr(e,t)}).fail(function(e){AmouneeApp.displayFailedValidation(e),AmouneeApp.enableButton(t)})}),$(document).on("click",".pin-reject",function(e){e.preventDefault();var t=$(this);t.tooltip("hide"),AmouneeApp.disableButton(t),$.post(t.attr("data-action")).done(function(e){TBHList.listButtonAjaxResultWithToastr(e,t)}).fail(function(e){AmouneeApp.displayFailedValidation(e),AmouneeApp.enableButton(t)})})}};jQuery(document).ready(function(){Status.init()});
